"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[177],{4177:(s,e,t)=>{t.r(e),t.d(e,{default:()=>r});const a={data:function(){return{fields:{currentPassword:"",newPassword:"",repeatPassword:""},isSended:!1,isUpdate:!1}},computed:{isMatchPasswords:function(){return this.fields.newPassword===this.fields.repeatPassword}},methods:{formHandler:function(){var s=this;if(this.isMatchPasswords){this.isSended=!0,this.isUpdate=!0;var e=new FormData;e.append("old_password",this.fields.currentPassword),e.append("password",this.fields.newPassword),e.append("password_confirmation",this.fields.repeatPassword),e.append("_method","PUT"),axios({method:"POST",url:"/api/front/client/password/update",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(){s.isUpdate=!1,toastr.success("Informationen aktualisiert")})).catch((function(e){var t=e.response;s.isUpdate=!1,toastr.error(t.data.old_password_err||"Etwas ist schief gelaufen")}))}}}};const r=(0,t(1900).Z)(a,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("form",{staticClass:"profile-info",class:{"opacity-50 pe-none":s.isUpdate},on:{submit:function(e){return e.preventDefault(),s.formHandler.apply(null,arguments)},input:function(e){s.isSended=!1}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-5"},[t("form-field",{attrs:{label:"Altes Password*",type:"password",minlength:"8",required:"",placeholder:"Altes Password*"},model:{value:s.fields.currentPassword,callback:function(e){s.$set(s.fields,"currentPassword",e)},expression:"fields.currentPassword"}}),s._v(" "),t("form-field",{staticClass:"mt-4",attrs:{label:"Neues Password*",type:"password",minlength:"8",required:"",placeholder:"Neues Password*"},model:{value:s.fields.newPassword,callback:function(e){s.$set(s.fields,"newPassword",e)},expression:"fields.newPassword"}}),s._v(" "),t("form-field",{staticClass:"mt-4",attrs:{label:"Passwort bestätigen*",type:"password",minlength:"8",required:"",placeholder:"Passwort bestätigen*"},model:{value:s.fields.repeatPassword,callback:function(e){s.$set(s.fields,"repeatPassword",e)},expression:"fields.repeatPassword"}}),s._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:!s.isMatchPasswords&&s.isSended,expression:"!isMatchPasswords && isSended"}],staticClass:"text-danger mt-3"},[s._v("Das Passwort ist zu kurz")])],1)]),s._v(" "),t("input",{staticClass:"mt-4",attrs:{type:"submit",value:"Speichern"}})])}),[],!1,null,null,null).exports}}]);