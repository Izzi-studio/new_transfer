"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[870],{3870:(a,e,t)=>{t.r(e),t.d(e,{default:()=>s});const l={data:function(){return{fields:null,avatarUrl:"",isUpdate:!1}},methods:{formHandler:function(){var a=this;this.isUpdate=!0;var e=new FormData;for(var t in this.fields)("avatar"!==t||this.fields[t])&&e.append(t,this.fields[t]);e.append("_method","PUT"),axios({method:"POST",url:"/api/front/client",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(){a.isUpdate=!1,toastr.success("Informationen aktualisiert")}))},updateAvatar:function(a){this.fields.avatar=a.target.files[0],this.avatarUrl=URL.createObjectURL(a.target.files[0])}},mounted:function(){var a=this;axios.get("/api/front/client").then((function(e){var t=e.data;a.fields=t.data,a.fields.avatar?a.avatarUrl=a.fields.avatar:a.avatarUrl="/images/default-avatar.png",a.fields.avatar="",toastr.success("Informationen geladen")}))}};const s=(0,t(1900).Z)(l,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return a.fields?t("form",{class:{"opacity-50 pe-none":a.isUpdate},on:{submit:function(e){return e.preventDefault(),a.formHandler.apply(null,arguments)}}},[t("h4",{staticClass:"d-block d-lg-none mb-3"},[a._v("Info")]),a._v(" "),t("label",{staticClass:"form-photo"},[t("input",{attrs:{type:"file",accept:"image/*"},on:{change:a.updateAvatar}}),a._v(" "),t("img",{staticClass:"form-photo__img",attrs:{src:a.avatarUrl,alt:""}}),a._v(" "),t("p",{staticClass:"form-photo__label"},[a._v("FOTO Ã„NDERN")])]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6 mt-4"},[t("form-field",{attrs:{label:"Vorname*",type:"text",required:"",placeholder:"Ort*"},model:{value:a.fields.name,callback:function(e){a.$set(a.fields,"name",e)},expression:"fields.name"}})],1),a._v(" "),t("div",{staticClass:"col-sm-6 mt-4"},[t("form-field",{attrs:{label:"Nachname*",type:"text",required:"",placeholder:"Nachname*"},model:{value:a.fields.lastname,callback:function(e){a.$set(a.fields,"lastname",e)},expression:"fields.lastname"}})],1),a._v(" "),t("div",{staticClass:"col-sm-6 mt-4"},[t("form-field",{attrs:{label:"Telefon*",type:"text",required:"",placeholder:"Telefon*"},model:{value:a.fields.phone,callback:function(e){a.$set(a.fields,"phone",e)},expression:"fields.phone"}})],1),a._v(" "),t("div",{staticClass:"col-sm-6 mt-4"},[t("form-field",{attrs:{label:"Erreichbarkeit*",type:"text",required:"",placeholder:"Erreichbarkeit*"},model:{value:a.fields.availability,callback:function(e){a.$set(a.fields,"availability",e)},expression:"fields.availability"}})],1)]),a._v(" "),t("input",{staticClass:"mt-4",attrs:{type:"submit",value:"Speichern"}})]):a._e()}),[],!1,null,null,null).exports}}]);